<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stupina Popa - Miere NaturalƒÉ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: 
        /* Imagine frumoasƒÉ cu miere »ôi albine */
        
        /* Gradient de rezervƒÉ √Æn caz cƒÉ imaginea nu se √ÆncarcƒÉ */
        linear-gradient(135deg, #8B4513 0%, #D2691E 100%);
      color: #333;
      line-height: 1.6;
      padding: 20px;
      min-height: 100vh;
      position: relative;
    }

    /* Overlay pentru a face textul mai lizibil */
    body::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.4);
      z-index: -1;
    }
    
    .container {
      max-width: 1000px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }
    
    header {
      text-align: center;
      margin-bottom: 40px;
      padding: 40px 30px;
      background: linear-gradient(135deg, 
        rgba(255, 215, 0, 0.9) 0%, 
        rgba(255, 165, 0, 0.9) 50%, 
        rgba(210, 105, 30, 0.9) 100%);
      border-radius: 20px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.3);
      border: 3px solid #8B4513;
      position: relative;
      overflow: hidden;
    }

    /* Decoratiuni pentru header */
    header::before {
      content: 'üçØ';
      position: absolute;
      top: 15px;
      left: 30px;
      font-size: 3rem;
      opacity: 0.8;
    }

    header::after {
      content: 'üêù';
      position: absolute;
      top: 15px;
      right: 30px;
      font-size: 3rem;
      opacity: 0.8;
    }
    
    h1 {
      font-size: 4rem;
      margin-bottom: 15px;
      color: #8B4513;
      text-shadow: 3px 3px 0px rgba(255, 215, 0, 0.5);
      font-family: 'Georgia', serif;
      font-weight: bold;
      letter-spacing: 2px;
    }
    
    .subtitle {
      font-size: 1.6rem;
      color: #5D4037;
      font-weight: 600;
      text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
      font-style: italic;
      margin-bottom: 10px;
    }
    
    .tagline {
      font-size: 1.2rem;
      color: #8B4513;
      font-weight: 500;
      background: rgba(255, 255, 255, 0.7);
      padding: 8px 20px;
      border-radius: 25px;
      display: inline-block;
      margin-top: 10px;
    }
    
    .input-section {
      background: rgba(255, 253, 231, 0.95);
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      border: 2px solid #FFD700;
      backdrop-filter: blur(10px);
    }
    
    .section-title {
      color: #8B4513;
      margin-bottom: 20px;
      text-align: center;
      font-size: 1.8rem;
      font-weight: bold;
      font-family: 'Georgia', serif;
    }
    
    .input-area {
      width: 100%;
      height: 150px;
      padding: 20px;
      border: 2px solid #FFD700;
      border-radius: 15px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-size: 16px;
      resize: vertical;
      margin-bottom: 20px;
      background: rgba(255, 255, 255, 0.9);
      transition: all 0.3s ease;
    }
    
    .input-area:focus {
      border-color: #8B4513;
      box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.2);
      outline: none;
      background: white;
    }
    
    .process-btn {
      background: linear-gradient(135deg, #8B4513, #A0522D);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(139, 69, 19, 0.4);
      border: 2px solid #FFD700;
      display: block;
      margin: 0 auto;
    }
    
    .process-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(139, 69, 19, 0.6);
      background: linear-gradient(135deg, #A0522D, #8B4513);
    }
    
    .comments-container {
      background: rgba(255, 253, 231, 0.95);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 15px 35px rgba(0,0,0,0.2);
      border: 2px solid #FFD700;
      backdrop-filter: blur(10px);
    }
    
    .comments-header {
      background: linear-gradient(135deg, #8B4513, #A0522D);
      color: white;
      padding: 25px;
      text-align: center;
      border-bottom: 3px solid #FFD700;
    }
    
    .comments-header h2 {
      font-size: 2.2rem;
      margin: 0;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      font-family: 'Georgia', serif;
    }
    
    .filter-buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin-top: 15px;
      flex-wrap: wrap;
    }
    
    .filter-btn {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
      border: 2px solid transparent;
    }
    
    .filter-btn.active {
      background: #FFD700;
      color: #8B4513;
      border-color: #8B4513;
    }
    
    .filter-btn:hover {
      background: rgba(255,255,255,0.3);
      transform: translateY(-2px);
    }
    
    .comments-list {
      max-height: 600px;
      overflow-y: auto;
      padding: 25px;
    }
    
    .comment-item {
      padding: 20px;
      border-bottom: 2px solid #FFE4B5;
      display: flex;
      align-items: flex-start;
      background: rgba(255, 255, 255, 0.8);
      margin-bottom: 15px;
      border-radius: 15px;
      transition: all 0.3s ease;
      border-left: 4px solid #FFD700;
    }
    
    .comment-item:hover {
      transform: translateX(5px);
      background: rgba(255, 250, 205, 0.9);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .comment-item:last-child {
      border-bottom: none;
      margin-bottom: 0;
    }
    
    .comment-number {
      background: linear-gradient(135deg, #8B4513, #D2691E);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin-right: 20px;
      flex-shrink: 0;
      font-size: 18px;
      box-shadow: 0 4px 8px rgba(139, 69, 19, 0.3);
      border: 2px solid #FFD700;
    }
    
    .comment-content {
      flex-grow: 1;
    }
    
    .comment-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }
    
    .username {
      font-weight: bold;
      font-size: 18px;
      color: #8B4513;
    }
    
    .date {
      color: #7f8c8d;
      font-size: 14px;
      background: #f8f9fa;
      padding: 4px 12px;
      border-radius: 15px;
    }
    
    .comment-text {
      margin: 12px 0;
      padding: 12px;
      background: #f8f9fa;
      border-radius: 8px;
      border-left: 3px solid #3498db;
    }
    
    .mentions {
      color: #e74c3c;
      font-weight: 500;
      background: #fff5f5;
      padding: 8px 12px;
      border-radius: 8px;
      margin: 8px 0;
      border-left: 3px solid #e74c3c;
    }
    
    .comment-footer {
      display: flex;
      justify-content: space-between;
      color: #7f8c8d;
      font-size: 14px;
      margin-top: 10px;
    }
    
    .reply-count {
      color: #3498db;
      font-weight: 600;
    }
    
    .no-comments {
      text-align: center;
      padding: 50px 20px;
      color: #8B4513;
      font-style: italic;
      font-size: 18px;
      background: rgba(255, 250, 205, 0.7);
      border-radius: 15px;
    }
    
    .stats {
      background: linear-gradient(135deg, #e8f4fc, #d1ecf1);
      padding: 20px;
      border-radius: 15px;
      margin-top: 20px;
      text-align: center;
      border: 1px solid #bee5eb;
    }
    
    .stats-title {
      font-size: 20px;
      font-weight: bold;
      color: #2c3e50;
      margin-bottom: 15px;
    }
    
    .user-stats {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      gap: 15px;
    }
    
    .stat-item {
      text-align: center;
      padding: 15px;
      background: white;
      border-radius: 10px;
      min-width: 120px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.08);
    }
    
    .stat-number {
      font-size: 28px;
      font-weight: bold;
      color: #8B4513;
      margin-bottom: 5px;
    }
    
    .stat-label {
      font-size: 14px;
      color: #7f8c8d;
      font-weight: 500;
    }

    /* Scrollbar personalizat */
    .comments-list::-webkit-scrollbar {
      width: 10px;
    }
    
    .comments-list::-webkit-scrollbar-track {
      background: #FFE4B5;
      border-radius: 10px;
    }
    
    .comments-list::-webkit-scrollbar-thumb {
      background: linear-gradient(135deg, #8B4513, #D2691E);
      border-radius: 10px;
      border: 2px solid #FFD700;
    }
    
    .comments-list::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(135deg, #A0522D, #8B4513);
    }

    /* Efect de miere picurand */
    .honey-drip {
      position: absolute;
      width: 25px;
      height: 40px;
      background: linear-gradient(135deg, #FFD700, #FFA500);
      border-radius: 0 0 12px 12px;
      animation: drip 3s infinite;
      opacity: 0.7;
      z-index: 2;
    }

    @keyframes drip {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(15px); }
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 2.8rem;
      }
      
      .subtitle {
        font-size: 1.3rem;
      }
      
      .comment-header {
        flex-direction: column;
        align-items: flex-start;
      }
      
      .date {
        margin-top: 5px;
      }
      
      .user-stats {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>
  <!-- Picaturi de miere decorative -->
  <div class="honey-drip" style="top: 120px; left: 5%;"></div>
  <div class="honey-drip" style="top: 180px; right: 8%; animation-delay: 0.5s;"></div>
  <div class="honey-drip" style="top: 250px; left: 12%; animation-delay: 1s;"></div>
  <div class="honey-drip" style="top: 320px; right: 15%; animation-delay: 1.5s;"></div>
  
  <div class="container">
    <header>
      <h1>üçØ Stupina Popa üêù</h1>
      <p class="subtitle">Miere NaturalƒÉ de Albine ‚Ä¢ 100% PurƒÉ ‚Ä¢ Tradi»õie Rom√¢neascƒÉ</p>
      <p class="tagline">"Din floare √Æn floare, calitate superioarƒÉ!"</p>
    </header>
    
    <div class="input-section">
      <h2 class="section-title">üìã Lista Utilizatori Comentarii</h2>
      <textarea class="input-area" id="inputText" placeholder="üêù Lipe»ôte aici toate comentariile tale... (500+ comentarii)"></textarea>
      <button class="process-btn" id="processBtn">
        üöÄ ProceseazƒÉ Comentariile
      </button>
    </div>
    
    <div class="comments-container">
      <div class="comments-header">
        <h2>üë• Lista Utilizatori (<span id="totalCount">0</span>)</h2>
        <div class="filter-buttons">
          <button class="filter-btn active" data-filter="all">üçØ Toate Comentariile</button>
          <button class="filter-btn" data-filter="mentions">üéØ Doar cu @ (<span id="mentionsCount">0</span>)</button>
        </div>
      </div>
      
      <div class="comments-list" id="commentsList">
        <div class="no-comments">üìù Lipe»ôte comentariile mai sus pentru a genera lista</div>
      </div>
    </div>
  </div>

  <script>
    let comentarii = [];

    // Func»õia care proceseazƒÉ automat textul comentariilor
    function processComments(inputText) {
      const lines = inputText.split('\n');
      const comments = [];
      let currentComment = null;
      let userContent = [];
      
      for (let i = 0; i < lines.length; i++) {
        const line = lines[i].trim();
        
        if (!line) continue;
        
        // VerificƒÉ dacƒÉ este sf√¢r»ôit de comentariu (Reply + numƒÉr)
        if (line === 'Reply' && i + 1 < lines.length) {
          const nextLine = lines[i + 1].trim();
          
          if (/^(0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20)$/.test(nextLine)) {
            // ProceseazƒÉ comentariul curent
            if (currentComment && userContent.length > 0) {
              // Extrage men»õiunile
              const mentions = [];
              let text = '';
              let date = '';
              
              userContent.forEach(contentLine => {
                // Extrage data
                if (!date && (contentLine.includes('-') || contentLine.includes('ago') || contentLine.includes('d') || contentLine.includes('w') || contentLine.includes('h') || contentLine.includes('m'))) {
                  date = contentLine;
                }
                // Extrage men»õiunile
                if (contentLine.includes('@') && !contentLine.startsWith('@')) {
                  const lineMentions = contentLine.match(/@[^\s,]+/g) || [];
                  mentions.push(...lineMentions);
                }
                // AdaugƒÉ la text (exclude username-ul »ôi datele)
                if (contentLine && contentLine !== currentComment && contentLine !== date) {
                  text += (text ? ' ' : '') + contentLine;
                }
              });
              
              comments.push({
                user: currentComment,
                text: text,
                date: date,
                mentions: mentions,
                replies: parseInt(nextLine) || 0,
                hasMentions: mentions.length > 0
              });
              
              currentComment = null;
              userContent = [];
            }
            
            i++; // SƒÉrim peste numƒÉr
            continue;
          }
        }
        
        // DacƒÉ nu avem utilizator curent »ôi linia aratƒÉ ca username
        if (!currentComment && line && 
            !line.startsWith('@') && 
            line !== 'Reply' && 
            !line.startsWith('View') &&
            !line.includes('ago') && 
            !line.includes('-') && 
            !line.includes('d') && 
            !line.includes('w') && 
            !line.includes('h') && 
            !line.includes('m') &&
            line !== 'Photo' &&
            line !== 'üëç' &&
            line !== '‚ù§' &&
            line !== 'ü•∞' &&
            !/^(0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20)$/.test(line)) {
          
          currentComment = line;
          userContent = [line];
        } 
        // DacƒÉ avem deja un utilizator, adƒÉugƒÉm la con»õinut
        else if (currentComment) {
          userContent.push(line);
        }
      }
      
      return comments;
    }

    // Func»õia pentru afi»ôarea comentariilor
    function displayComments(filter = 'all') {
      const commentsList = document.getElementById('commentsList');
      const totalCount = document.getElementById('totalCount');
      const mentionsCount = document.getElementById('mentionsCount');
      
      commentsList.innerHTML = '';
      
      const commentsWithMentions = comentarii.filter(comment => comment.hasMentions);
      totalCount.textContent = comentarii.length;
      mentionsCount.textContent = commentsWithMentions.length;
      
      // FiltreazƒÉ comentariile
      let filteredComments = comentarii;
      if (filter === 'mentions') {
        filteredComments = commentsWithMentions;
      }
      
      // NumeroteazƒÉ doar comentariile cu @
      let commentNumber = 1;
      
      if (filteredComments.length === 0) {
        commentsList.innerHTML = '<div class="no-comments">üìù Nu existƒÉ comentarii care sƒÉ corespundƒÉ filtrului selectat</div>';
        return;
      }
      
      filteredComments.forEach(comment => {
        const commentItem = document.createElement('div');
        commentItem.className = 'comment-item';
        
        // AdaugƒÉ numƒÉrul doar pentru comentariile cu @
        const numberHtml = comment.hasMentions ? 
          `<div class="comment-number">${commentNumber++}</div>` : 
          `<div class="comment-number" style="background: #95a5a6;">-</div>`;
        
        // FormateazƒÉ men»õiunile
        const mentionsHtml = comment.mentions.length > 0 ? 
          `<div class="mentions">üéØ ${comment.mentions.join(' ')}</div>` : '';
        
        commentItem.innerHTML = `
          ${numberHtml}
          <div class="comment-content">
            <div class="comment-header">
              <span class="username">${comment.user}</span>
              <span class="date">üìÖ ${comment.date}</span>
            </div>
            ${mentionsHtml}
            ${comment.text ? `<div class="comment-text">üí¨ ${comment.text}</div>` : ''}
            <div class="comment-footer">
              <span>‚Ü™Ô∏è Reply</span>
              <span class="reply-count">${comment.replies > 0 ? `${comment.replies} replies` : ''}</span>
            </div>
          </div>
        `;
        
        commentsList.appendChild(commentItem);
      });
      
      // AdaugƒÉ statistici
      const statsDiv = document.createElement('div');
      statsDiv.className = 'stats';
      statsDiv.innerHTML = `
        <div class="stats-title">üìä Statistici Comentarii</div>
        <div class="user-stats">
          <div class="stat-item">
            <div class="stat-number">${comentarii.length}</div>
            <div class="stat-label">Total Comentarii</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">${commentsWithMentions.length}</div>
            <div class="stat-label">Cu Men»õiuni</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">${comentarii.length - commentsWithMentions.length}</div>
            <div class="stat-label">FƒÉrƒÉ Men»õiuni</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">${commentsWithMentions.reduce((total, comment) => total + comment.mentions.length, 0)}</div>
            <div class="stat-label">Total @</div>
          </div>
        </div>
      `;
      commentsList.appendChild(statsDiv);
    }
    
    // Ini»õializare
    document.addEventListener('DOMContentLoaded', () => {
      const processBtn = document.getElementById('processBtn');
      const inputText = document.getElementById('inputText');
      
      processBtn.addEventListener('click', () => {
        const text = inputText.value.trim();
        
        if (!text) {
          alert('üêù Te rog sƒÉ lipe»ôti comentariile √Æn caseta de text!');
          return;
        }
        
        comentarii = processComments(text);
        displayComments();
        
        // Efect de succes
        processBtn.textContent = '‚úÖ Lista GeneratƒÉ!';
        setTimeout(() => {
          processBtn.textContent = 'üöÄ ProceseazƒÉ Comentariile';
        }, 2000);
      });
      
      // AdaugƒÉ event listeners pentru butoanele de filtrare
      document.querySelectorAll('.filter-btn').forEach(button => {
        button.addEventListener('click', () => {
          if (comentarii.length === 0) {
            alert('üêù Mai √Ænt√¢i proceseazƒÉ comentariile!');
            return;
          }
          
          document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('active');
          });
          
          button.classList.add('active');
          displayComments(button.getAttribute('data-filter'));
        });
      });
      
      // Exemplu de date
      const exampleData = `tincanica55

@mult succes doamne ajuta multa sanatate...
10-21
Reply
0

Costel Cioby

nu imi place mierea crema üòÖ...
10-18
Reply
0

Lylysor

@Liliana@Andreea Beatrice @Dorin Cristinel
1w ago
Reply
0`;

      inputText.value = exampleData;
    });
  </script>
</body>
</html>